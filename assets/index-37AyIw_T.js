var H=Object.defineProperty;var P=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var T=(r,a,t)=>a in r?H(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t,y=(r,a)=>{for(var t in a||(a={}))O.call(a,t)&&T(r,t,a[t]);if(P)for(var t of P(a))W.call(a,t)&&T(r,t,a[t]);return r};var N=(r,a,t)=>new Promise((h,c)=>{var f=n=>{try{d(t.next(n))}catch(p){c(p)}},u=n=>{try{d(t.throw(n))}catch(p){c(p)}},d=n=>n.done?h(n.value):Promise.resolve(n.value).then(f,u);d((t=t.apply(r,a)).next())});import{B as J}from"./Table-DDZs8u-_.js";import{T as Q}from"./TableAction-tLj7neTk.js";import{B as X}from"./BasicForm-B-u4tTUU.js";import{u as Y}from"./useForm-e9fq16is.js";import{g as Z}from"./list-DTTtp8IO.js";import{A as U,C as ee,d as oe,f as te,r as b,b as R,E as le,w as l,s as ne,o as ae,i as o,h as m,k as g,l as se,N as re,B as ie,m as ue,al as de,_ as ce,H as pe,K as me}from"./index-D2Y4yZif.js";import{P as fe}from"./PlusOutlined-CrXaptaX.js";import"./vuedraggable.umd--6Cn2cNb.js";import"./useDesignSetting-BIGeGeCR.js";import"./propTypes-C3VNAXu7.js";import"./FormOutlined-CmL4L2TL.js";import"./ReloadOutlined-D9q3QzhU.js";import"./componentSetting-CQq0JJwW.js";import"./index-CosqkKtR.js";import"./DownOutlined-Boeu_yex.js";const _e=[{title:"id",key:"id",width:100},{title:"名称",key:"name",width:100},{title:"头像",key:"avatar",width:100,render(r){return U(ee,{size:48,src:r.avatar})}},{title:"地址",key:"address",auth:["basic_list"],ifShow:r=>!0,width:150},{title:"开始日期",key:"beginTime",width:160},{title:"结束日期",key:"endTime",width:160},{title:"创建时间",key:"date",width:100}],Ve=oe({__name:"index",setup(r){const a={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}},t=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",componentProps:{placeholder:"请输入姓名",onInput:e=>{console.log(e)}},rules:[{required:!0,message:"请输入姓名",trigger:["blur"]}]},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1,onInput:e=>{console.log(e)}}},{field:"type",component:"NSelect",label:"类型",componentProps:{placeholder:"请选择类型",options:[{label:"舒适性",value:1},{label:"经济性",value:2}],onUpdateValue:e=>{console.log(e)}}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:118313526e4,componentProps:{type:"date",clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"makeTime",component:"NTimePicker",label:"停留时间",componentProps:{clearable:!0,onUpdateValue:e=>{console.log(e)}}},{field:"status",label:"状态",slot:"statusSlot"},{field:"makeProject",component:"NCheckbox",label:"预约项目",componentProps:{placeholder:"请选择预约项目",options:[{label:"种牙",value:1},{label:"补牙",value:2},{label:"根管",value:3}],onUpdateChecked:e=>{console.log(e)}}},{field:"makeSource",component:"NRadioGroup",label:"来源",componentProps:{options:[{label:"网上",value:1},{label:"门店",value:2}],onUpdateChecked:e=>{console.log(e)}}}],h=te(),c=b(null),f=b(),u=b(!1),d=b(!1),n=R({name:"",address:"",date:null}),p=R({width:220,title:"操作",key:"action",fixed:"right",render(e){return U(Q,{style:"button",actions:[{label:"删除",onClick:I.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:q.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:s=>{window.$message.info(`您点击了，${s} 按钮`)}})}}),[x,{getFieldsValue:S}]=Y({gridProps:{cols:"1 s:1 m:2 l:3 xl:4 2xl:4"},labelWidth:80,schemas:t});function B(){u.value=!0}const V=e=>N(this,null,function*(){return yield Z(y(y({},S()),e))});function $(e){console.log(e)}function v(){f.value.reload()}function D(e){e.preventDefault(),d.value=!0,c.value.validate(s=>{s?window.$message.error("请填写完整信息"):(window.$message.success("新建成功"),setTimeout(()=>{u.value=!1,v()})),d.value=!1})}function q(e){console.log("点击了编辑",e),h.push({name:"basic-info",params:{id:e.id}})}function I(e){console.log("点击了删除",e),window.$message.info("点击了删除")}function A(e){console.log(e),v()}function F(e){console.log(e)}return(e,s)=>{const w=se,E=re,_=ie,k=ue,K=de,L=ce,M=pe,j=me,z=ne;return ae(),le(z,{bordered:!1,class:"proCard"},{default:l(()=>[o(m(X),{onRegister:m(x),onSubmit:A,onReset:F},{statusSlot:l(({model:i,field:C})=>[o(w,{value:i[C],"onUpdate:value":G=>i[C]=G},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"]),o(m(J),{columns:m(_e),request:V,"row-key":i=>i.id,ref_key:"actionRef",ref:f,actionColumn:p,"onUpdate:checkedRowKeys":$,"scroll-x":1090,striped:!0},{tableTitle:l(()=>[o(_,{type:"primary",onClick:B},{icon:l(()=>[o(E,null,{default:l(()=>[o(m(fe))]),_:1})]),default:l(()=>[g(" 新建 ")]),_:1})]),toolbar:l(()=>[o(_,{type:"primary",onClick:v},{default:l(()=>[g("刷新数据")]),_:1})]),_:1},8,["columns","row-key","actionColumn"]),o(j,{show:u.value,"onUpdate:show":s[4]||(s[4]=i=>u.value=i),"show-icon":!1,preset:"dialog",title:"新建"},{action:l(()=>[o(M,null,{default:l(()=>[o(_,{onClick:s[3]||(s[3]=()=>u.value=!1)},{default:l(()=>[g("取消")]),_:1}),o(_,{type:"info",loading:d.value,onClick:D},{default:l(()=>[g("确定")]),_:1},8,["loading"])]),_:1})]),default:l(()=>[o(L,{model:n,rules:a,ref_key:"formRef",ref:c,"label-placement":"left","label-width":80,class:"py-4"},{default:l(()=>[o(k,{label:"名称",path:"name"},{default:l(()=>[o(w,{placeholder:"请输入名称",value:n.name,"onUpdate:value":s[0]||(s[0]=i=>n.name=i)},null,8,["value"])]),_:1}),o(k,{label:"地址",path:"address"},{default:l(()=>[o(w,{type:"textarea",placeholder:"请输入地址",value:n.address,"onUpdate:value":s[1]||(s[1]=i=>n.address=i)},null,8,["value"])]),_:1}),o(k,{label:"日期",path:"date"},{default:l(()=>[o(K,{type:"datetime",placeholder:"请选择日期",value:n.date,"onUpdate:value":s[2]||(s[2]=i=>n.date=i)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["show"])]),_:1})}}});export{Ve as default};
