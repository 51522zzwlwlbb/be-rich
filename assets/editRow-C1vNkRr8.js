var B=Object.defineProperty;var k=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var w=(n,i,e)=>i in n?B(n,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[i]=e,p=(n,i)=>{for(var e in i||(i={}))M.call(i,e)&&w(n,e,i[e]);if(k)for(var e of k(i))A.call(i,e)&&w(n,e,i[e]);return n};var f=(n,i,e)=>new Promise((r,u)=>{var c=o=>{try{s(e.next(o))}catch(d){u(d)}},m=o=>{try{s(e.throw(o))}catch(d){u(d)}},s=o=>o.done?r(o.value):Promise.resolve(o.value).then(c,m);s((e=e.apply(n,i)).next())});import{B as H}from"./Table-DfDgM7rg.js";import{T as S}from"./TableAction-BGE8UQwI.js";import{g as V}from"./list-DuGFmwzB.js";import{A as v,C as P,d as z,r as h,b as _,E as D,w as y,s as K,o as q,i as b,k as F,h as C,B as I}from"./index-DF_kSXQG.js";import"./vuedraggable.umd-BX7EVXTZ.js";import"./useDesignSetting-cNzLB8o_.js";import"./propTypes-SluNXMpz.js";import"./FormOutlined-1JxOwo8C.js";import"./ReloadOutlined-D1R8l4LN.js";import"./componentSetting-CQq0JJwW.js";import"./index-D0LruBwq.js";import"./DownOutlined-DqJIzUlJ.js";const L=[{title:"id",key:"id",width:100},{title:"编码",key:"no",width:100},{title:"名称",key:"name",editComponent:"NInput",editRow:!0,editRule:!0,edit:!0,width:200},{title:"头像",key:"avatar",width:100,render(n){return v(P,{size:48,src:n.avatar})}},{title:"地址",key:"address",editRow:!0,editComponent:"NSelect",editComponentProps:{options:[{label:"广东省",value:1},{label:"浙江省",value:2}]},edit:!0,width:200,ellipsis:!1},{title:"开始日期",key:"beginTime",editRow:!0,edit:!0,width:240,editComponent:"NDatePicker",editComponentProps:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss"},ellipsis:!1},{title:"结束日期",key:"endTime",width:160},{title:"状态",key:"status",editRow:!0,edit:!0,width:100,editComponent:"NSwitch",editValueMap:n=>n?"启用":"禁用"},{title:"创建时间",key:"date",width:160},{title:"停留时间",key:"time",width:80}],it=z({__name:"editRow",setup(n){const i=h(),e=h(""),r=_({pageSize:5,name:"xiaoMa"}),u=_({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(t){return v(S,{style:"button",actions:d(t)})}});function c(t){var a;e.value=t.key,(a=t.onEdit)==null||a.call(t,!0)}function m(t){var a;e.value="",(a=t.onEdit)==null||a.call(t,!1,!1)}function s({column:t,value:a,record:l}){t.key==="id"&&(l.editValueRefs.name4.value=`${a}`),console.log(t,a,l)}function o(t){return f(this,null,function*(){var l;(yield(l=t.onEdit)==null?void 0:l.call(t,!1,!0))&&(e.value="")})}function d(t){return t.editable?[{label:"保存",onClick:o.bind(null,t)},{label:"取消",onClick:m.bind(null,t)}]:[{label:"编辑",onClick:c.bind(null,t)}]}const g=t=>f(this,null,function*(){return yield V(p(p({},r),t))});function R(t){console.log(t)}function E(){console.log(i.value),i.value.reload()}function T({value:t}){console.log(t)}return(t,a)=>{const l=I,x=K;return q(),D(x,{bordered:!1,class:"proCard"},{default:y(()=>[b(C(H),{title:"表格列表",titleTooltip:"这是一个提示",columns:C(L),request:g,"row-key":N=>N.id,ref_key:"actionRef",ref:i,actionColumn:u,onEditEnd:T,onEditChange:s,"onUpdate:checkedRowKeys":R,"scroll-x":1590},{toolbar:y(()=>[b(l,{type:"primary",onClick:E},{default:y(()=>[F("刷新数据")]),_:1})]),_:1},8,["columns","row-key","actionColumn"])]),_:1})}}});export{it as default};
