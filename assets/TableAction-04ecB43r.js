var B=Object.defineProperty,$=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var A=(e,n,s)=>n in e?B(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,l=(e,n)=>{for(var s in n||(n={}))P.call(n,s)&&A(e,s,n[s]);if(h)for(var s of h(n))T.call(n,s)&&A(e,s,n[s]);return e},m=(e,n)=>$(e,x(n));import{d as N,aS as F,M as f,aB as S,aT as V,aA as z,q as L,as as O,o as c,c as D,a as y,F as I,v as M,E as p,Q as q,w as i,i as _,k as C,t as E,S as b,V as j,at as v,N as Q,B as R,aP as G}from"./index-DvKSQUVv.js";import{D as H}from"./DownOutlined-Dhkl9oOj.js";const J=N({name:"TableAction",components:{DownOutlined:H},props:{actions:{type:Array,default:null,required:!0},dropDownActions:{type:Array,default:null},style:{type:String,default:"button"},select:{type:Function,default:()=>{}}},setup(e){const{hasPermission:n}=F(),s=e.style==="button"?"default":e.style==="text"?"primary":"default",u=e.style==="button"?void 0:e.style==="text"?!0:void 0,w=f(()=>({text:u,type:s,size:"small"})),g=f(()=>(S(e.dropDownActions)||[]).filter(o=>n(o.auth)&&r(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel})}));function r(o){const t=o.ifShow;let a=!0;return V(t)&&(a=t),z(t)&&(a=t(o)),a}return{getActions:f(()=>(S(e.actions)||[]).filter(o=>n(o.auth)&&r(o)).map(o=>{const{popConfirm:t}=o;return m(l(l({size:"small",text:u,type:s},o),t||{}),{onConfirm:t==null?void 0:t.confirm,onCancel:t==null?void 0:t.cancel,enable:!!t})})),getDropdownList:g,getMoreProps:w}}}),K={class:"tableAction"},U={class:"flex items-center justify-center"},W={class:"flex items-center"},X=y("span",null,"更多",-1);function Y(e,n,s,u,w,g){const r=Q,d=R,o=O("DownOutlined"),t=G;return c(),D("div",K,[y("div",U,[(c(!0),D(I,null,M(e.getActions,(a,k)=>(c(),p(d,b({key:`${k}-${a.label}`,ref_for:!0},a,{class:"mx-1"}),q({default:i(()=>[C(E(a.label)+" ",1)]),_:2},[a.hasOwnProperty("icon")?{name:"icon",fn:i(()=>[_(r,{component:a.icon},null,8,["component"])]),key:"0"}:void 0]),1040))),128)),e.dropDownActions&&e.getDropdownList.length?(c(),p(t,{key:0,trigger:"hover",options:e.getDropdownList,onSelect:e.select},{default:i(()=>[j(e.$slots,"more"),e.$slots.more?v("",!0):(c(),p(d,b({key:0},e.getMoreProps,{class:"mx-1","icon-placement":"right"}),{default:i(()=>[y("div",W,[X,_(r,{size:"14",class:"ml-1"},{default:i(()=>[_(o)]),_:1})])]),_:1},16))]),_:3},8,["options","onSelect"])):v("",!0)])])}const ne=L(J,[["render",Y]]);export{ne as T};
