import{B as w}from"./BasicUpload-BKl32v6t.js";import{d as j,G as q,r as N,u as R,b as d,c as S,a as f,i as e,w as n,s as F,o as G,k as m,h as u,l as H,m as J,B as P,H as T,_ as E,I,J as L}from"./index-BK0dny1c.js";import"./componentSetting-CQq0JJwW.js";import"./DeleteOutlined-CgwkmzPR.js";import"./PlusOutlined-BZtTBoNy.js";const M={class:"n-layout-page-header"},Q={style:{"margin-left":"80px"}},$=j({__name:"index",setup(W){const g=q(),v={name:{required:!0,message:"请输入预约姓名",trigger:"blur"},remark:{required:!0,message:"请输入预约备注",trigger:"blur"},images:{required:!0,type:"array",message:"请上传病例图片",trigger:"change"}},l=N(null),i=R(),{uploadUrl:b}=g,t=d({name:"",mobile:"",images:["https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"]}),h=d({platform:"miniPrograms",timestamp:new Date().getTime(),token:"Q6fFCuhc1vkKn5JNFWaCLf6gRAc5n0LQHd08dSnG4qo="});function k(){l.value.validate(s=>{s?i.error("验证失败，请填写完整信息"):i.success("验证成功")})}function x(){l.value.restoreValidation()}function y(s){t.images=u(s)}return(s,a)=>{const _=F,p=H,r=J,c=P,C=T,B=E,U=I,V=L;return G(),S("div",null,[f("div",M,[e(_,{bordered:!1,title:"上传图片"},{default:n(()=>[m(" 上传图片，用于向用户收集图片信息 ")]),_:1})]),e(_,{bordered:!1,class:"mt-4 proCard"},{default:n(()=>[e(V,{cols:"2 s:1 m:3 l:3 xl:3 2xl:3",responsive:"screen"},{default:n(()=>[e(U,{offset:"0 s:0 m:1 l:1 xl:1 2xl:1"},{default:n(()=>[e(B,{"label-width":90,model:t,rules:v,"label-placement":"left",ref_key:"formRef",ref:l,class:"py-8"},{default:n(()=>[e(r,{label:"预约姓名",path:"name"},{default:n(()=>[e(p,{value:t.name,"onUpdate:value":a[0]||(a[0]=o=>t.name=o),placeholder:"输入姓名"},null,8,["value"])]),_:1}),e(r,{label:"预约号码",path:"mobile"},{default:n(()=>[e(p,{placeholder:"电话号码",value:t.mobile,"onUpdate:value":a[1]||(a[1]=o=>t.mobile=o)},null,8,["value"])]),_:1}),e(r,{label:"病例图片",path:"images"},{default:n(()=>[e(u(w),{action:`${u(b)}/v1.0/files`,headers:h,data:{type:0},name:"files",width:100,height:100,onUploadChange:y,value:t.images,"onUpdate:value":a[2]||(a[2]=o=>t.images=o),helpText:"单个文件不超过2MB，最多只能上传10个文件"},null,8,["action","headers","value"])]),_:1}),f("div",Q,[e(C,null,{default:n(()=>[e(c,{type:"primary",onClick:k},{default:n(()=>[m("提交预约")]),_:1}),e(c,{onClick:x},{default:n(()=>[m("重置")]),_:1})]),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}}});export{$ as default};
